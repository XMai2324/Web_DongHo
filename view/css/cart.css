/* ====== Base & Variables ====== */
:root{ --bg:#fff; --text:#111; --muted:#666; --line:#eaeaea; --brand:#0db7ea; --danger:#e53935; }
*{margin:0;padding:0;box-sizing:border-box}
html,body{height:100%}
body{font-family:Arial,Helvetica,sans-serif;color:var(--text);background:#fafafa}

/* Utilities */
.container{max-width:1200px;margin:0 auto;padding:0 20px}
.row{display:flex;flex-wrap:wrap}
a{color:inherit;text-decoration:none}
.hidden{display:none!important}
.visually-hidden{position:absolute!important;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}

/* ====== Header ====== */
header{
  position:fixed; inset:0 0 auto 0; height:95px; width:100%; z-index:1000;
  display:flex; align-items:center; justify-content:space-between; padding:10px 24px;
  background:rgba(255,255,255,.9); backdrop-filter:saturate(140%) blur(6px);
  border-bottom:1px solid var(--line);
}
.logo img{height:48px;display:block}

.header_menu{
  display:flex; align-items:center; gap:28px; flex:1; justify-content:center;
  font-weight:700; text-transform:uppercase; font-size:14px; position:relative;
}
.header_menu > div{position:relative}
.header_menu > div > a{display:block;padding:6px 2px}

/* Header right */
.header_other{display:flex;align-items:center;gap:16px}
.header_other input{
  width:260px; max-width:48vw; padding:6px 32px 6px 8px;
  border:none; border-bottom:1px solid #333; background:transparent; outline:none;
}
.header_other i.fas.fa-search{position:absolute;right:8px;top:50%;transform:translateY(-50%);font-size:14px}
.header_other .search-history{
  position:absolute; top:110%; left:0; width:100%; display:none;
  background:#fff; border:1px solid var(--line); border-radius:10px; box-shadow:0 8px 24px rgba(0,0,0,.08);
}
.header_other input:focus ~ .search-history{display:block}

/* Icon giỏ ở header */
.header_other .cart-link{
  position:relative; display:inline-flex; align-items:center; justify-content:center;
  width:36px; height:36px;
}
.header_other .cart-link i{font-size:18px;line-height:1;vertical-align:middle}
.cart-badge{
  position:absolute; top:-6px; right:-8px; min-width:18px; height:18px; padding:0 6px;
  border-radius:999px; background:#111; color:#fff; font-size:12px; font-weight:700;
  display:inline-flex; align-items:center; justify-content:center;
}

/* ====== Cart Page ====== */
.cart{padding:120px 0 40px}

/* Steps */
.cart-top-wrap{
  position:relative; display:flex; align-items:center; justify-content:space-between;
  gap:48px; padding:24px 0; margin:50px auto 40px;
}
.cart-top-wrap::before{
  content:""; position:absolute; top:50%; left:0; height:2px; width:100%;
  background:#ddd; transform:translateY(-50%); z-index:0;
}
.cart-top-item{
  width:42px; height:42px; border-radius:50%; border:2px solid #ddd; background:#fff;
  display:flex; align-items:center; justify-content:center; z-index:1;
}
.cart-top-item i{font-size:16px;color:#ddd}
.cart-top-item.active{border-color:var(--brand)}
.cart-top-item.active i{color:var(--brand)}

/* Layout */
.cart-content{display:grid;grid-template-columns:minmax(0,1.6fr) minmax(280px,.9fr);gap:28px;align-items:start}

/* Left table */
.cart-content-left{overflow-x:auto}
.cart-content-left table{
  width:100%; border-collapse:collapse; background:#fff; border:1px solid var(--line);
  border-radius:14px; overflow:hidden;
}
.cart-content-left th,.cart-content-left td{
  padding:14px 12px; border-bottom:1px solid #f0f0f0; text-align:left; vertical-align:middle;
}
.cart-content-left th{background:#fafafa;font-weight:700;font-size:14px}
.cart-content-left tr:last-child td{border-bottom:none}
.cart-content-left td img{width:80px;height:80px;object-fit:cover;border-radius:10px;border:1px solid var(--line)}
.cart-content-left td p{margin:0;color:#333;font-weight:600}
.cart-content-left input[type="number"]{
    width:68px;
    height:36px;
    padding:0 8px;
    border:1px solid var(--line);
    border-radius:8px;
    -moz-appearance: auto;      /* Firefox */
    appearance: auto;           /* Chuẩn */
}
.cart-content-left input[type="number"]::-webkit-outer-spin-button,
.cart-content-left input[type="number"]{-moz-appearance:textfield}


.cart-content-left input[type="number"]::-webkit-outer-spin-button,
.cart-content-left input[type="number"]::-webkit-inner-spin-button{
  -webkit-appearance: inner-spin-button; /* Chrome/Edge/Safari */
  margin: 0;
}
/* ô Xóa — an toàn hơn last-child */
.cart-content-left td.delete-cell{color:var(--danger);font-weight:700;cursor:pointer;user-select:none}
.cart-content-left td.delete-cell:hover{opacity:.85;text-decoration:underline}

/* Right summary */
.cart-content-right table{
  width:100%; border-collapse:collapse; background:#fff; border:1px solid var(--line);
  border-radius:14px; overflow:hidden;
}
.cart-content-right th{padding:14px 16px;text-align:left;font-size:15px;background:#fafafa}
.cart-content-right td{padding:12px 16px;border-bottom:1px solid #f5f5f5;font-size:14px}
.cart-content-right tr:last-child td{border-bottom:none}
.cart-content-right td:last-child{text-align:right}
.cart-content-right .grand{font-weight:800;font-size:16px}
.cart-content-right .checkout{
  width: 100%;
  margin-top: 12px;
  padding: 12px 14px;
  border: none;
  border-radius: 10px;
  background: #111;
  color: #fff;
  font-weight: 800;
  cursor: pointer;
}
.cart-content-right .checkout:disabled{background:#bbb;cursor:not-allowed}
.cart-content-right .go-shopping{
  display: block; /* để nó xuống hàng */
  margin-top: 10px;
  text-align: center;
  font-weight: 700;
  color: #333;
}
.cart-content-right .go-shopping:hover{text-decoration:underline}

.cart-content-right-text{
  margin-top:12px; font-size:13px; color:#444; background:#fff; border:1px solid var(--line);
  border-radius:12px; padding:12px 14px; line-height:1.5;
}
.cart-content-right-text a{color:var(--brand);font-weight:700}

/* Empty state (nếu dùng) */
.cart-empty{
  background:#fff; border:1px solid var(--line); border-radius:14px; padding:24px; text-align:center; color:#555;
}
.cart-empty .go-shopping{margin-top:10px;display:inline-block;padding:10px 14px;border-radius:10px;background:#111;color:#fff;font-weight:700}

/* ====== Chế độ chỉ hiển thị giỏ ====== */
body.show-cart{display:flex;flex-direction:column;min-height:100vh}
body.show-cart .slider, 
body.show-cart main, 
body.show-cart #quickview, 
body.show-cart #login_modal{display:none!important}
body.show-cart #cart{display:block!important;flex:1;padding-top:120px}
body.show-cart footer{margin-top:auto}

footer{
  margin-top:40px; background:#f2f2f2; border-top:1px solid var(--line);
  display:grid; grid-template-columns:1.2fr 1fr; gap:24px; padding:24px 20px; color:#444;
}
footer .footer-logo{width:140px;margin-bottom:10px}
footer p{line-height:1.6}
.right_footer h4{margin:10px 0 6px}
.social-links{display:flex;gap:10px;margin-top:8px}
.social-links a{width:36px;height:36px;display:flex;align-items:center;justify-content:center;border:1px solid var(--line);border-radius:50%}
.social-links a:hover{background:#fff}

/* ====== Responsive ====== */
@media (max-width:992px){
  .header_menu{gap:18px}
  .cart-content{grid-template-columns:1fr}
  footer{grid-template-columns:1fr}
}
@media (max-width:600px){
  header{padding:10px 14px}
  .header_menu{display:none}
  .header_other input{width:54vw}
  .cart{padding-top:100px}
  .cart-top-wrap{gap:28px}
  .cart-content-left td img{width:64px;height:64px}
}


/* Ẩn giỏ hàng mặc định */
#cart { display: none; }

/* Chỉ hiện khi user thực sự mở giỏ (#cart trong URL) hoặc khi site đang ở chế độ show-cart */
#cart:target,
body.show-cart #cart {
  display: block !important;
}

/* Đảm bảo hai section “ăn chắc” khi có .hidden */
#cart.hidden,
#delivery.hidden {
  display: none !important;
}